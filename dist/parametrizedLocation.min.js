/*! parametrizedLocation - v0.1.0 - 2013-09-12
* https://plus.google.com/u/0/109953552136391486842
* Copyright (c) 2013 Peter Ahlers (eonlepapillon); Licensed MIT */
angular.module("parametrizedLocation",[]).config(["$provide",function(a){"use strict";function b(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function c(a,c,d){for(var e=b(a),f=0;f<e.length;f++)c.call(d,a[e[f]],e[f]);return e}function d(a,b){if(!b)return a;var d=[],e="",f="";return a.split("#").length>1&&(e=a.slice(0,a.lastIndexOf("#")),f=a.slice(a.lastIndexOf("#"))),c(b,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),d.push(b+"="+a)}))}),e+(-1===e.indexOf("?")?"?":"&")+d.join("&")+f}function e(a,b,c){var e,f={},g={},h=!1;return angular.forEach(a.split(/\W/),function(b){!new RegExp("^\\d+$").test(b)&&b&&new RegExp("(^|[^\\\\]):"+b+"(\\W|$)").test(a)&&(f[b]=!0)}),a=a.replace(/\\:/g,":"),b=b||{},angular.forEach(f,function(c,d){e=b[d],a=angular.isDefined(e)&&null!==e?a.replace(new RegExp(":"+d+"(\\W|$)","g"),e+"$1"):a.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),a=a.replace(/\/+$/,""),a=a.replace(/\/\.(?=\w+($|\?))/,"."),a=a.replace(/\/\\\./,"/."),angular.forEach(b,function(a,b){f[b]||(h=!0,g[b]=a)}),c&&h&&(a=d(a,g)),a}a.decorator("$location",["$delegate",function(a){var b=a.url,c=a.path,d=a.hash;return a.url=function(c,d,f){return angular.isObject(d)&&(f=d,d=void 0),angular.isObject(f)&&(c=e(c,f,!0)),b.call(a,c,d)},a.path=function(b,d){return angular.isObject(d)&&(b=e(b,d)),c.call(a,b)},a.hash=function(b,c){return angular.isObject(c)&&(b=e(b,c)),d.call(a,b)},a}])}]);